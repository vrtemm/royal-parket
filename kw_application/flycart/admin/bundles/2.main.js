webpackJsonp([2],{49:function(a,b){"use strict";a.exports=function(a){a.controller("presetsController",["$scope","$rootScope","$http","$base64","$timeout",function(a,b,c,d,e){var f=angular.element,g=b.presets[0]?b.presets[0].preset_id:0;a.openPopover=!1,a.nameInvalid=!1,a.openLoad=!1,a.newPreset={id:g,name:"New Preset",preset:"self"},a.$watch("newPreset.name",function(b){b.length>20||b.length<5?a.nameInvalid=!0:a.nameInvalid=!1},!0),a.openAddPopover=function(b){a.openPopover=!a.openPopover,a.newPreset.name=b},a.closeAddPopover=function(){a.openPopover=!1},a.openLoadPopover=function(){a.openLoad=!a.openLoad},a.uploadSuccess=function(c,d){e(function(){b.presets=a.$eval(d),jQuery("select").select2(b.selectOptions),a.$apply()}),c.flowObj.files=[]},a.closeLoadPopover=function(){a.openLoad=!1},a.presetAction=function(c,d,f){"reset"===c?a.resetPreset(d,f):"delete"===c&&a.deletePreset(d,f),e(function(){jQuery("select").select2(b.selectOptions),a.$apply()})},a.addPreset=function(d,g,h,i){if(g.length>5&&g.length<20)if(a.openPopover=!1,a.nameInvalid=!1,"self"===h){var j=angular.copy(b.tools);delete j.preset,c.post("index.php?route=module/kw_flycart/addPreset&token="+b.token,{preset_name:g,preset:j}).then(function(c){"error"===c.data.status?a.notification(c.data.message,"error"):(b.presets=c.data.presets,e(function(){jQuery("select").select2(b.selectOptions),a.$apply()}))})}else"other"===h&&c.post("index.php?route=module/kw_flycart/addFromPreset&token="+b.token,{preset_name:g,preset_id:i}).then(function(c){"error"===c.data.status?a.notification(c.data.message,"error"):(b.presets=c.data.presets,e(function(){jQuery("select").select2(b.selectOptions),a.$apply()}))});else a.nameInvalid=!0,f("#preset-name-input").focus()},a.deletePreset=function(d,f){c.post("index.php?route=module/kw_flycart/deletePreset&token="+b.token,{preset_id:d}).then(function(c){"error"===c.data.status?a.notification(c.data.message,"error"):(b.presets.splice(f,1),parseInt(b.tools.preset)===f&&(b.tools.preset=0,a.apply(!0)),e(function(){jQuery("select").select2(b.selectOptions),a.$apply()}))})},a.resetPreset=function(f,g){c.post("index.php?route=module/kw_flycart/resetPreset&token="+b.token,{preset_id:f}).then(function(c){"error"===c.data.status?a.notification(c.data.message,"error"):("custom"===c.data.preset[g].preset.effect_type&&(c.data.preset[g].preset.effect_custom_js=d.decode(c.data.preset[g].preset.effect_custom_js)),c.data.preset[g].preset.custom_js.length>0&&(c.data.preset[g].preset.custom_js=d.decode(c.data.preset[g].preset.custom_js),a.apply(!0)),b.tools=c.data.preset[g].preset,b.tools.preset=g,a.notification(c.data.message,"success"),e(function(){jQuery("select").select2(b.selectOptions),a.$apply()}))})},a.selectPreset=function(c){var d=angular.copy(b.presets[c].preset);delete d.preset_name,b.tools=d,b.tools.preset=c,e(function(){jQuery("select").select2(b.selectOptions),a.$apply()})}}])}},50:function(a,b){"use strict";a.exports=function(a){a.controller("modulesController",["$scope","$rootScope","$http",function(a,b,c){var d=function(a){this.layout_id=a[0].layout_id,this.position="content_top",this.status="1",this.sort_order=""};a.addModule=function(a,b){var c=a||[];c.push(new d(b))},a.removeModule=function(a,b){a.splice(b,1)}}])}}});